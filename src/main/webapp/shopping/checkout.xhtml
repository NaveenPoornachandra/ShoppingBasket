<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE HTML>
<ui:composition xmlns="http://www.w3.org/1999/xhtml"
                xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
                xmlns:h="http://xmlns.jcp.org/jsf/html"
                xmlns:f="http://xmlns.jcp.org/jsf/core"
                template="../templates/basketTemplate.xhtml">
    <ui:define name="content">

        <h:form>
            Personal Address
            <h:panelGrid columns="2" id="personalAddress">
                <h:outputLabel value="Email Address" for="email" />
                <h:inputText id="email" required="true" value="#{shoppingFlow.cart.paddress.emailAddress}" />

                <h:outputLabel value="Email Notification" for="emailNotify" />
                <h:selectBooleanCheckbox id="emailNotify" value="#{shoppingFlow.cart.paddress.emailNotification}" />

                <h:outputLabel value="Door Number" for="pdnum" />
                <h:inputText id="pdnum" required="true" value="#{shoppingFlow.cart.paddress.dnum}" />

                <h:outputLabel value="Address Line 1" for="pline1" />
                <h:inputText id="pline1" required="true" value="#{shoppingFlow.cart.paddress.line1}" />

                <h:outputLabel value="Address Line 2" for="pline2" />
                <h:inputText id="pline2" value="#{shoppingFlow.cart.paddress.line2}" />

                <h:outputLabel value="Street" for="pstreet" />
                <h:inputText id="pstreet" required="true" value="#{shoppingFlow.cart.paddress.street}" />

                <h:outputLabel value="City" for="pcity" />
                <h:inputText id="pcity" required="true" value="#{shoppingFlow.cart.paddress.city}" />

                <h:outputLabel value="Zip Code" for="pzipCode" />
                <h:inputText id="pzipCode" required="true" value="#{shoppingFlow.cart.paddress.zipCode}" />

                <h:outputLabel value="Country" for="pcountry" />
                <h:inputText id="pcountry" required="true" value="#{shoppingFlow.cart.paddress.country}" />
            </h:panelGrid>

            <h:outputLabel value="Is Delivery address same as Personale address ?" for="sameAddr" />
            <h:selectBooleanCheckbox id="sameAddr" value="#{shoppingFlow.cart.isSameAsPersonal}" onclick="submit()">
                <f:valueChangeListener type="org.shoppingbasket.jsf.listener.SameAsPersonalAddrListener"/>
            </h:selectBooleanCheckbox>


            Delivery Address
            <h:panelGrid columns="2" id="deliverAddress">
                <h:outputLabel value="Email Address" for="ddnum" />
                <h:inputText id="ddnum" value="#{shoppingFlow.cart.daddress.dnum}" />

                <h:outputLabel value="Address Line 1" for="dline1" />
                <h:inputText id="dline1" value="#{shoppingFlow.cart.daddress.line1}" />

                <h:outputLabel value="Address Line 2" for="dline2" />
                <h:inputText id="dline2" value="#{shoppingFlow.cart.daddress.line2}" />

                <h:outputLabel value="Street" for="dstreet" />
                <h:inputText id="dstreet" value="#{shoppingFlow.cart.daddress.street}" />

                <h:outputLabel value="City" for="dcity" />
                <h:inputText id="dcity" value="#{shoppingFlow.cart.daddress.city}" />

                <h:outputLabel value="Zip Code" for="dzipCode" />
                <h:inputText id="dzipCode" value="#{shoppingFlow.cart.daddress.zipCode}" />

                <h:outputLabel value="Country" for="dcountry" />
                <h:inputText id="dcountry" value="#{shoppingFlow.cart.daddress.country}" />
                
                <h:outputLabel value="Delivery Date" for="ddate" />
                <h:inputText id="ddate" value="#{shoppingFlow.cart.daddress.deliveredDate}">
                        <f:convertDateTime pattern="DD-MM-yyyy" />
                </h:inputText>
                
                <h:outputLabel value="Preferred Time(HH)" for="dtime" />
                <h:inputText id="dtime" value="#{shoppingFlow.cart.daddress.preferredTime}">
                </h:inputText>
                
            </h:panelGrid>

            <h:commandButton value="Go Back to Basket" action="#{shoppingFlow.goBasket()}"/>
            <h:commandButton value="Proceed to Payment" action="#{shoppingFlow.goPayment()}"/>
        </h:form>

    </ui:define>
</ui:composition>